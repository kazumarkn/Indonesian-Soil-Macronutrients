<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Indonesian Soil Macronutrients — Viewer</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <style>
    body { margin:0; font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }
    header { display:flex; gap:12px; align-items:center; padding:10px; background:#f6f8fa; border-bottom:1px solid #ddd; flex-wrap:wrap; }
    #map { position: absolute; top:72px; bottom:0; left:0; right:0; }
    .control { display:flex; gap:6px; align-items:center; }
    label { font-size:13px; color:#222; }
    select, input[type="range"], button { font-size:13px; padding:6px; }
    #info { margin-left:auto; text-align:right; font-size:13px; color:#333; }
    .small { font-size:12px; color:#444; }
  </style>
</head>
<body>
  <header>
    <div class="control">
      <label for="variable">Variable</label>
      <select id="variable">
        <option value="TN">TN (Total Nitrogen)</option>
        <option value="TP">TP (Total Phosphorus)</option>
        <option value="TK">TK (Total Potassium)</option>
      </select>
    </div>

    <div class="control">
      <label for="depth">Depth</label>
      <select id="depth">
        <option value="K1">K1 (000-045 cm)</option>
        <option value="K2">K2 (046-091 cm)</option>
        <option value="K3">K3 (092-116 cm)</option>
        <option value="K4">K4 (117-289 cm)</option>
      </select>
    </div>

    <div class="control">
      <label for="opacity">Opacity</label>
      <input id="opacity" type="range" min="0" max="100" value="90" />
    </div>

    <div class="control">
      <button id="loadBtn">Load</button>
      <button id="clearBtn">Clear</button>
    </div>

    <div id="info" class="small">
      <div>Click map to sample: <strong id="sampleValue">—</strong></div>
      <div id="unitsText">Units: TN: ×0.01 % w/w, TP: ×0.001 % w/w, TK: ×0.01 % w/w</div>
    </div>
  </header>

  <div id="map"></div>

  <!-- Leaflet & GeoTIFF (UMD browser build) -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/geotiff/dist/geotiff.browser.min.js"></script>

  <!-- App script -->
  <script src="map.js"></script>
</body>
</html>
