<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Indonesian Soil Macronutrients Viewer</title>

<!-- Leaflet -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<!-- GeoTIFF + GeoRaster -->
<script src="https://unpkg.com/geotiff@2.1.3/dist-browser/geotiff.browser.min.js"></script>
<script src="https://unpkg.com/georaster/dist/georaster.browser.min.js"></script>
<script src="https://unpkg.com/georaster-layer-for-leaflet/dist/georaster-layer-for-leaflet.browser.min.js"></script>

<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    font-family: Arial, sans-serif;
  }
  #map {
    width: 100%;
    height: 100%;
  }

  /* UI container */
  #controls {
    position: absolute;
    top: 20px;
    left: 20px;
    z-index: 9999;
    background: white;
    padding: 12px;
    border-radius: 6px;
    font-size: 14px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.25);
    line-height: 1.6;
  }

  #legend {
    position:absolute;
    bottom:20px;
    left:20px;
    z-index:9999;
    background:white;
    padding:10px;
    border-radius:6px;
    font-size:12px;
    font-family:Arial;
    box-shadow:0 2px 6px rgba(0,0,0,0.25);
  }
</style>

</head>
<body>

<div id="map"></div>

<!-- UI Panel -->
<div id="controls">
  <label>Variable:</label><br>
  <select id="variableSelect">
    <option value="TN">TN (Total Nitrogen)</option>
    <option value="TP">TP (Total Phosphorus)</option>
    <option value="TK">TK (Total Potassium)</option>
  </select>
  <br><br>

  <label>Soil Depth Layer:</label><br>
  <select id="depthSelect">
    <option value="K1">K1 (0–45 cm)</option>
    <option value="K2">K2 (46–91 cm)</option>
    <option value="K3">K3 (92–116 cm)</option>
    <option value="K4">K4 (117–289 cm)</option>
  </select>
  <br><br>

  <label>Opacity:</label><br>
  <input id="opacityRange" type="range" min="0" max="1" step="0.05" value="0.75">
  <br><br>

  <button id="loadBtn">Load / Refresh</button>
</div>

<!-- Legend box -->
<div id="legend"></div>

<!-- Map script -->
<script src="map.js"></script>

</body>
</html>
